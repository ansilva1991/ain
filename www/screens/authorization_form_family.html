<div class="authorization-form-family">
  <form class="form-horizontal">
    <div class="input-avatar">
      <img src="img/avatar.png" id="avatar">
      <div class="buttons">
        <button type="button" onclick="cs.avatarFrom('gallery');">
          <i class="fa fa-image"></i>
        </button>
        <button type="button" onclick="cs.avatarFrom('camera');">
          <i class="fa fa-camera"></i>
        </button>
      </div>
    </div>
    <div class="form-group">
      <label for="name">NOMBRE</label>
      <input type="text" name="name" class="form-control">
    </div>
    <div class="form-group">
      <label for="name">APELLIDO</label>
      <input type="text" name="name" class="form-control">
    </div>
    <div class="form-group">
      <label for="name">DNI</label>
      <input type="number" name="name" class="form-control">
    </div>
    <div class="form-group">
      <label for="name">SEXO</label>
      <div class="form-radios">
        <div class="row">
          <div class="radio">
            <div class="circle"></div>
            <span>Masculino</span>
          </div>
          <div class="radio">
            <div class="circle"></div>
            <span>Femenino</span>
          </div>
          <div class="radio">
            <div class="circle"></div>
            <span>Otro</span>
          </div>
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="name">FECHA DE NACIMIENTO</label>
      <input type="date" name="name" class="form-control">
    </div>
    <div class="form-group">
      <label for="name">Teléfono de contacto</label>
      <input type="tel" name="name" class="form-control">
    </div>
    <div class="form-group-checkbox">
      <label for="name">¿Dar acceso al sistema?</label>
      <div class="checkbox for_tap">
        <input type="checkbox" id="have_access">
        <div class="box">
          <div class="pointer"></div>
        </div>
      </div>
    </div>
    <div class="form-dropdown">
      <div class="form-group">
        <label for="name">EMAIL</label>
        <input type="text" name="email" class="form-control">
      </div>
      <center>
        <h5>
          Se le enviará una notificación al email ingresado con las instrucciones de uso.
        </h5>
        <h5>
          Al permitirle acceso al sistema, podra gestionar visitas y empleados, crear eventos, enviar y responder comunicaciones, entre otras funciones.
        </h5>
      </center>
    </div>
  </form>
</div>

<script type="text/javascript">
  function c(){
    this.last_screen_height = 0;

    this.start = function(){

      $(window).resize(function(){
        Extends.scrollToInputFocus('.authorization-form-family');
      });

      Extends.inputCheckBox();
      Extends.inputRadios('.form-radios');

      $('#have_access').change(function(){
        $('.form-dropdown').toggleClass('open');

        if($(this).is(':checked')){
          setTimeout(function(){
            $('.authorization-form-family').scrollToBottom(250);
          },200);
        }
      });

      app.liActive('authorizations');
      app.pageLoading('hide');

      this.removeAccess();
    }

    this.submit = function(){
      app.loadScreen(app.SCREENS.AUTHORIZATIONS);
    };

    this.back = function(){
      app.loadScreen(app.SCREENS.AUTHORIZATIONS);
    };

    this.avatarFrom = function(type){
      app.takeFromCamera(function(imageData){
        $('img#avatar').attr('src',"data:image/jpeg;base64," + imageData);
      },function(errorMessage){
      },{
        quality: 50,
        sourceType: (type == 'camera') ? Camera.PictureSourceType.CAMERA : Camera.PictureSourceType.PHOTOLIBRARY,
        destinationType: Camera.DestinationType.DATA_URL,
        allowEdit : true,
        targetWidth: 128,
        targetHeight: 128
      });
    };

    this.giveAccess = function(){
      $('.system-access-granted').show();
      $('.system-access-denied').hide();
    };

    this.removeAccess = function(){
      $('.system-access-granted').hide();
      $('.system-access-denied').show();
    };

  }
</script>