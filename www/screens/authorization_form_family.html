<div class="authorization-form-family">
  <form class="form-horizontal">
    <div class="input-avatar">
      <img src="img/avatar.png" id="avatar">
      <div class="buttons">
        <button type="button" onclick="cs.avatarFrom('gallery');">
          <i class="fa fa-image"></i>
        </button>
        <button type="button" onclick="cs.avatarFrom('camera');">
          <i class="fa fa-camera"></i>
        </button>
      </div>
    </div>
    <div class="input">
      <input type="text" placeholder="Nombre...">
    </div>
    <div class="input">
      <input type="text" placeholder="Apellido...">
    </div>
    <div class="input-number">
      <label>DNI...</label>
      <input type="number">
    </div>
    <div class="input">
      <select>
        <option value="">Selecciona sexo por favor...</option>
        <option value="m">Masculino</option>
        <option value="f">Femenino</option>
        <option value="o">Otros</option>
      </select>
    </div>
    <div class="input-date">
      <label>Fecha de nacimiento...</label>
      <input type="date">
    </div>
    <div class="input">
      <input type="tel" placeholder="Teléfono de contacto...">
    </div>
    <div class="input system-access-granted">
      <input type="email" placeholder="Email...">
    </div>
    <center class="system-access-granted">
      <h5>
        Se le enviará una notificación al email ingresado con las instrucciones de uso.
      </h5>
    </center>
    <button type="button" class="btn btn-block system-access-granted" onclick="cs.removeAccess();">Quitar acceso al sistema</button>
    <center class="system-access-denied">
      <h4>¿Darle acceso al sistema?</h4>
      <h5>
        Al permitirle acceso al sistema, podra gestionar visitas y empleados, crear eventos, enviar y responder comunicaciones, entre otras funciones.
      </h5>
      <button type="button" class="btn btn-block" onclick="cs.giveAccess();">Permitir acceso al sistema</button>
    </center>
  </form>
</div>

<script type="text/javascript">
  function c(){
    this.last_screen_height = 0;

    this.start = function(){

      $(window).resize(function(){
        Extends.scrollToInputFocus('.authorization-form-family');
      });

      Extends.inputNumber('.input-number');
      Extends.inputDate('.input-date');

      app.liActive('authorizations');
      app.pageLoading('hide');

      this.removeAccess();
    }

    this.submit = function(){
      app.loadScreen(app.SCREENS.AUTHORIZATIONS);
    };

    this.back = function(){
      app.loadScreen(app.SCREENS.AUTHORIZATIONS);
    };

    this.avatarFrom = function(type){
      app.takeFromCamera(function(imageData){
        $('img#avatar').attr('src',"data:image/jpeg;base64," + imageData);
      },function(errorMessage){
      },{
        quality: 50,
        sourceType: (type == 'camera') ? Camera.PictureSourceType.CAMERA : Camera.PictureSourceType.PHOTOLIBRARY,
        destinationType: Camera.DestinationType.DATA_URL,
        allowEdit : true,
        targetWidth: 128,
        targetHeight: 128
      });
    };

    this.giveAccess = function(){
      $('.system-access-granted').show();
      $('.system-access-denied').hide();
    };

    this.removeAccess = function(){
      $('.system-access-granted').hide();
      $('.system-access-denied').show();
    };

  }
</script>